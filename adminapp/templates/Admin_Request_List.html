<!-- Base.html 상속 -->
{% extends 'Admin_List.html' %}
<!-- static 파일 선언-->
{% load static %}

<!-- css 선언 -->
{% block css %}
<link rel="stylesheet" type="text/css" href="{% static 'css/Admin_Request_List.css' %}">
{% endblock css %}

<!-- content div 내용 -->
{% block content %}
<div>
    {% if requestList %}
    <div>
        <b>청소 항목</b>
        <br/>
        {% for temp in clean %}
        {% if temp in filtering.selectClean %}
        <span><input type="checkbox" name="selectClean" value="{{temp}}" checked />{{temp}}</span>
        {% else %}
        <span><input type="checkbox" name="selectClean" value="{{temp}}"/>{{temp}}</span>
        {% endif %}
        {% endfor %}
        <p/>
        <b>시공 항목</b>
        <br/>
        {% for temp in construct %}
        {% if temp in filtering.selectConstruct %}
        <span><input type="checkbox" name="selectConstruct" value="{{temp}}" checked />{{temp}}</span>
        {% else %}
        <span><input type="checkbox" name="selectConstruct" value="{{temp}}"/>{{temp}}</span>
        {% endif %}
        {% endfor %}
        <p/>
        <b>날 짜</b>
        <br/>
        {% if filtering.startDate %}
        <input type='date' id='startDate' onchange="check_endDate()" value="{{filtering.startDate}}"/>
        {% else %}
        <input type='date' id='startDate' onchange="check_endDate()"/>
        {% endif %}
        <b>~</b>
        {% if filtering.endDate %}
        <input type='date' id='endDate' value="{{filtering.endDate}}"/>
        {% else %}
        <input type='date' id='endDate'/>
        {% endif %}
        <p/>
        <input type="button" value="검색" onclick="search_request();" />
        {% if filtering %}
        <input type="button" value="초기화" onclick="reset_search();" />
        {% endif %}
    </div>
    <table>
        <thead>
            <th></th>
            <th>No</th>
            <th>성 함</th>
            <th>요청 장소</th>
            <th>요청 날짜</th>
            <th>신청 시각</th>
        </thead>
        <tbody>
            {% for i, temp in requestList %}
            <tr onclick="select_request(this);" class="request_list">
                <td class="request_num"><input type="hidden" value="{{temp.r_num}}" /></td>
                <td>{{i}}</td>
                <td>{{temp.client_name}}</td>
                <td>{{temp.request_address}}</td>
                <td>{{temp.request_date}}</td>
                <td>{{temp.upload_date|date:"Y-m-d H:m:s"}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <p />
    {% if endpage != 1 %}
    {% if page > 2 %}
    <input type="button" value="<<" onclick="page_start();" />
    {% endif %}
    {% if page > 1 %}
    <input type="button" value="<" onclick="page_before();" />
    {% endif %}
    <b>{{page}}</b>
    {% if page < endpage %}
    <input type="button" value=">" onclick="page_next();" />
    {% endif %}
    {% if page < endpage|add:"-1" %}
    <input type="button" value=">>" onclick="page_end();" />
    <input type="hidden" id="endPage" value="{{endpage}}" />
    {% endif %}
    {% endif %}
    {% else %}
    <h4>예약 기록이 없습니다.</h4>
    {% endif %}
</div>
{% endblock content %}

<!-- javascript 선언 -->
{% block js %}
<script type="text/javascript" src="{% static 'js/Admin_Request_List.js' %}"></script>
{% endblock js %}